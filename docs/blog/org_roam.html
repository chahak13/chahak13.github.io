<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2022-11-20 Sun 13:24 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Setup for org-roam and its compatriots</title>
<meta name="author" content="Chahak Mehta" />
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" href="../style.css" type="text/css"/>
</head>
<body>
<div id="preamble" class="status">
<div id="updated">Updated: 2022-11-19 Sat 19:42</div>
<nav>
<a href="/docs">Home</a>
<a href="/docs/blog/sitemap.html">Posts</a>
</nav>
</div>
<div id="content" class="content">
<header>
<h1 class="title">Setup for org-roam and its compatriots</h1>
</header><nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org74fac8d">1. Zettelkasten</a>
<ul>
<li><a href="#org5afa543">1.1. Fleeting notes</a></li>
<li><a href="#org58c1e86">1.2. Permanent notes</a>
<ul>
<li><a href="#org97642cf">1.2.1. Literature notes</a></li>
<li><a href="#org8f23819">1.2.2. Concept notes</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgaaff6c9">2. Installation</a></li>
<li><a href="#org9d2468b">3. Getting started</a></li>
<li><a href="#orgaea9dcd">4. Files</a>
<ul>
<li><a href="#orgbf4175d">4.1. File Titles</a></li>
<li><a href="#org705ff21">4.2. File Tags</a></li>
<li><a href="#orge7bc0c5">4.3. File Refer</a></li>
</ul>
</li>
<li><a href="#orgee4d985">5. Templates</a></li>
<li><a href="#orgc2a477d">6. Inserting Links</a></li>
<li><a href="#org6d154ea">7. Graphing</a></li>
<li><a href="#org20a0c10">8. Roam protocol</a>
<ul>
<li><a href="#orgb017342">8.1. The <code>roam-ref</code> Protocol</a></li>
</ul>
</li>
<li><a href="#orgc4f7d3d">9. Daily-notes</a></li>
<li><a href="#org9cee252">10. Diagnosing and Repairing Files</a></li>
<li><a href="#orga836a76">11. Finding Unlinked References</a></li>
<li><a href="#org0949926">12. NEXT Deft, org-noter, org-roam-bibtex</a>
<ul>
<li><a href="#orgc33b599">12.1. Deft</a></li>
</ul>
</li>
<li><a href="#org7e093fb">13. Keybindings for <code>org-roam</code> functions</a></li>
<li><a href="#org055cd9e">14. <code>use-package</code> code block</a></li>
</ul>
</div>
</nav>
<p>
<code>org-roam</code> is an Emacs package that improves note-taking process in <code>org-mode</code>. Per the manual, <i>Org-roam is a tool for network thought</i>. I&rsquo;ve been trying to get into the habit of note-taking and the result of extreme boredom led me to set this up in my system after hearing a lot of good things about it. The complete config block for init.el can be found at the end.
</p>

<div id="outline-container-org74fac8d" class="outline-2">
<h2 id="org74fac8d"><span class="section-number-2">1.</span> Zettelkasten</h2>
<div class="outline-text-2" id="text-1">
<p>
<code>Zettelkasten</code> is a German word, and the name of a note taking system that was developed by a German sociologist <b>Niklas Luhmann</b> who used to take notes on cards and then put them into a slip-box. The idea is that, with enough notes linked to each other, one can come up with various ideas to think, write, watch about. This  introduction is, by no means, a good introduction and one should definitely read about Zettelkasten on their own if they find it interesting. <code>org-roam</code> aims to be the slip-box, where every note is a zettel/card of its own.
</p>
</div>

<div id="outline-container-org5afa543" class="outline-3">
<h3 id="org5afa543"><span class="section-number-3">1.1.</span> Fleeting notes</h3>
<div class="outline-text-3" id="text-1-1">
<p>
Notes that are essentially short quick reminders of information or ideas that need to be processed later on, or trashed. I have tried using <code>org-capture</code> for this with a decent amount of success but I plan to try <code>org-roam</code>&rsquo;s daily notes feature first to have a comparison. These kinds of notes are a central inbox that are to be further refiled and processed into permanent notes.
</p>
</div>
</div>

<div id="outline-container-org58c1e86" class="outline-3">
<h3 id="org58c1e86"><span class="section-number-3">1.2.</span> Permanent notes</h3>
<div class="outline-text-3" id="text-1-2">
<p>
Permanent notes form the basic structure of the network of notes. They are full-fledged notes that are supposed to be self-explanatory, and can be of two types: <b>literature notes</b> and <b>concept notes</b>.
</p>
</div>

<div id="outline-container-org97642cf" class="outline-4">
<h4 id="org97642cf"><span class="section-number-4">1.2.1.</span> Literature notes</h4>
<div class="outline-text-4" id="text-1-2-1">
<p>
Each note is a condensed summary of a particular source of reading (eg. book, website, paper etc.). It can also contain any annotations that are made during the reading. These notes provide an easy access to sift through past readings, and provides a way to retain more consumed information.
</p>
</div>
</div>

<div id="outline-container-org8f23819" class="outline-4">
<h4 id="org8f23819"><span class="section-number-4">1.2.2.</span> Concept notes</h4>
<div class="outline-text-4" id="text-1-2-2">
<p>
Concept notes are more in-depth and require more care in authoring. They need to be detailed notes on a particular concept that one can refer to whenever required. They can then be linked to various fleeting or literature notes, which provides a better network of view for that particular concept.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgaaff6c9" class="outline-2">
<h2 id="orgaaff6c9"><span class="section-number-2">2.</span> Installation</h2>
<div class="outline-text-2" id="text-2">
<p>
I used the <code>straight.el</code> package manager, with the <code>use-package</code> package as a configuration manager to install and customize <code>org-roam</code> and other packages. This can be done by running the following
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> org-roam
    <span style="color: #c678dd;">:straight</span> t<span style="color: #51afef;">)</span>
</pre>
</div>

<p>
<code>org-roam</code> needs <code>sqlite3</code> to work. Please make sure that it is installed and available to emacs (Check <code>exec-path</code> variable)
</p>
</div>
</div>

<div id="outline-container-org9d2468b" class="outline-2">
<h2 id="org9d2468b"><span class="section-number-2">3.</span> Getting started</h2>
<div class="outline-text-2" id="text-3">
<p>
The first step to start using <code>org-roam</code> is to set the <code>org-roam-directory</code> variable. This directory will contain all the notes that are created during the time of using <code>org-roam</code>. We will set this using the <code>:config</code> block in <code>use-package</code>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> org-roam
    <span style="color: #c678dd;">:straight</span> t
    <span style="color: #c678dd;">:config</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> <span style="color: #dcaeea;">org-roam-directory</span> <span style="color: #98be65;">"~/org"</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<p>
Org-roam manual recommends using a flat hierarchy to store all the notes, instead of creating a folder hierarchy. I wasn&rsquo;t sure how I felt about that but I decided to go with it anyway. Instead of any form of explicit categorization, links established between the notes should provide a form of grouping.
</p>

<p>
The next step is to enable the minor mode <code>org-roam-mode</code> globally. While this sets up Emacs with several hooks, it is not enabled on startup. To do that, we&rsquo;ll add a hook to the <code>use-package</code> block we&rsquo;ve been building.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> org-roam
    <span style="color: #c678dd;">:straight</span> t
    <span style="color: #c678dd;">:hook</span>
    <span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span><span style="color: #dcaeea;">after-init-hook</span> . org-roam-mode<span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">:config</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> <span style="color: #dcaeea;">org-roam-directory</span> <span style="color: #98be65;">"~/org-roam"</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<p>
To build the note cache manually, one needs to use <code>M-x org-roam-db-build-cache</code>. Cache builds might take a while in the first run, but is often very quick in subsequent runs because it only reprocesses modified files.
</p>

<p>
To start taking notes, one of the two functions can be used <code>org-roam-find-file</code> or <code>org-roam-capture</code>. While both of them will create a new file with the provided title, the major difference is that <code>org-roam-find-file</code> will point to the newly created note in the buffer, while <code>org-roam-capture</code> will point the user back to the original buffer, similar to <code>org-capture</code>.
</p>

<p>
To insert links in a note, use <code>M-x org-roam-insert</code>. This will bring up a prompt with a list of titles for existing notes. Selecting an existing entry will create and insert a link to the current file. Entering a non-existent title will create a new note with that title and link it. Org-roam recommends liberal linking of files, facilitating build up of a denser graph of inter-connected notes. To toggle the visibility of backlinks of a note, along with some context, call <code>M-x org-roam</code>.
</p>
</div>
</div>

<div id="outline-container-orgaea9dcd" class="outline-2">
<h2 id="orgaea9dcd"><span class="section-number-2">4.</span> Files</h2>
<div class="outline-text-2" id="text-4">
<p>
While the bulk of <code>org-roam</code>&rsquo;s functionality is built up on vanilla org, it adds some extensions and keywords to support additional functionality. 
</p>
</div>

<div id="outline-container-orgbf4175d" class="outline-3">
<h3 id="orgbf4175d"><span class="section-number-3">4.1.</span> File Titles</h3>
<div class="outline-text-3" id="text-4-1">
<p>
Each note needs to be prescribed with a title (duh?). This allows quick searching of notes. <code>org-roam</code> adds to the standard <code>+title</code> keyword in org-mode by using an new keyword called <code>#+roam_alias</code>. These aliases are space-delimited quoted strings that can also be used to refer the note while using <code>org-roam</code>. It also provides support for extracting title from the first headline in the file. The default action is to determine titles using <code>#+title</code> and <code>#+roam_alias</code> and if <code>#+title</code> isn&rsquo;t available, then fallback to the first headline. This is useful in topics like &ldquo;World War 2&rdquo; where it can also be referred to as &ldquo;WW2&rdquo; or &ldquo;World War II&rdquo; or such.
</p>

<pre class="example" id="org3eb8ba7">
  #+title: World War 2
  #+roam_alias: "WWII" "WW2" "World War II"
</pre>

<p>
Title extraction can be customized using the <code>org-roam-title-sources</code> variable.
</p>
</div>
</div>

<div id="outline-container-org705ff21" class="outline-3">
<h3 id="org705ff21"><span class="section-number-3">4.2.</span> File Tags</h3>
<div class="outline-text-3" id="text-4-2">
<p>
Tags are used as meta-data for files. They facilitate interaction with notes where titles are insufficient. It also provides a good interface for categorization of notes, especially while searching through all notes. By default, tags are extracted from the <code>#+roam_tags</code> property. Tags are space-delimited quoted strings. To customize this behaviour, check <code>org-roam-tag-sources</code> variable.
</p>

<p>
<b>DOUBT</b>: The screenshots show a <code>- tags ::</code> directive. Need to confirm what works.
</p>
</div>
</div>

<div id="outline-container-orge7bc0c5" class="outline-3">
<h3 id="orge7bc0c5"><span class="section-number-3">4.3.</span> File Refer</h3>
<div class="outline-text-3" id="text-4-3">
<p>
Refs are unique identifiers for files. They are declared using the <code>+roam_key</code> and show up as a Ref Backlink in the org-roam link list.
</p>
</div>
</div>
</div>

<div id="outline-container-orgee4d985" class="outline-2">
<h2 id="orgee4d985"><span class="section-number-2">5.</span> Templates</h2>
<div class="outline-text-2" id="text-5">
<p>
Org-roam extends the <code>org-capture</code> capabilities for its templating system. Org-roam&rsquo;s capture templates are not completely compatible with <code>org-capture</code>, hence, to modify the templates, use the <code>org-roam-capture-templates</code>. An example template is shown below. This can be added in the <code>:config</code> section of the <code>use-package</code> configuration.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> <span style="color: #dcaeea;">org-roam-capture-templates</span>
        <span style="color: #51afef;">'</span><span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span><span style="color: #98be65;">"d"</span> <span style="color: #98be65;">"default"</span> plain <span style="color: #a9a1e1;">(</span><span style="color: #51afef;">function</span> org-roam--capture-get-point<span style="color: #a9a1e1;">)</span>
           <span style="color: #98be65;">"%?"</span>
           <span style="color: #c678dd;">:file-name</span> <span style="color: #98be65;">"%&lt;%Y%m%d%H%M%S&gt;-${slug}"</span>
           <span style="color: #c678dd;">:head</span> <span style="color: #98be65;">"#+TITLE: ${title}\n"</span>
           <span style="color: #c678dd;">:unnarrowed</span> t<span style="color: #98be65;">)</span>
          <span style="color: #98be65;">(</span><span style="color: #98be65;">"p"</span> <span style="color: #98be65;">"paper"</span> entry <span style="color: #a9a1e1;">(</span><span style="color: #51afef;">function</span> org-roam--capture-get-point<span style="color: #a9a1e1;">)</span>
           <span style="color: #98be65;">"%?"</span>
           <span style="color: #c678dd;">:file-name</span> <span style="color: #98be65;">"%&lt;%Y%m%d%H%M%S&gt;-${slug}"</span>
           <span style="color: #c678dd;">:head</span> <span style="color: #98be65;">"#+TITLE: ${title}\n#+AUTHOR: ${authors}\n"</span>
           <span style="color: #c678dd;">:unnarrowed</span> t<span style="color: #98be65;">)</span>
          <span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc2a477d" class="outline-2">
<h2 id="orgc2a477d"><span class="section-number-2">6.</span> Inserting Links</h2>
<div class="outline-text-2" id="text-6">
<p>
<code>file</code> links for files and <code>id</code> links for headlines are preferred as they ensure that the links will work even without <code>org-roam</code>. <code>file</code> links can be inserted using <code>org-roam-insert</code> whereas links to headlines can be inserted by navigating to the headline and calling <code>org-store-link</code> to store an ID and link into the org-roam database. That link can then be inserted via <code>org-insert-link</code>.
</p>

<p>
Org-roam also extends org linking syntax by adding <code>roam</code> links. Org-roam registers this link type, and interprets the path as follows:
</p>

<ul class="org-ul">
<li><code>[[roam:title]]</code>: links to an org-roam file with title or alias as &ldquo;title&rdquo;.</li>
<li><code>[[roam:*headline]]</code>: links to the headline &ldquo;headline&rdquo; in the current org-roam file.</li>
<li><code>[[roam:title*headline]]</code>: links to the headline &ldquo;headline&rdquo; in the org-roam file with title or alias &ldquo;title&rdquo;</li>
</ul>
</div>
</div>

<div id="outline-container-org6d154ea" class="outline-2">
<h2 id="org6d154ea"><span class="section-number-2">7.</span> Graphing</h2>
<div class="outline-text-2" id="text-7">
<p>
<code>org-roam-server</code> is basically a web application to visualize the org-roam database. It needs to be installed separately and can be done easily using <code>straight.el</code> and <code>use-package</code>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> org-roam-server
    <span style="color: #c678dd;">:straight</span> t
    <span style="color: #c678dd;">:config</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> org-roam-server-host <span style="color: #98be65;">"127.0.0.1"</span><span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> org-roam-server-port <span style="color: #da8548; font-weight: bold;">8080</span><span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> org-roam-server-authenticate nil<span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> org-roam-server-export-inline-images t<span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> org-roam-server-serve-files nil<span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> org-roam-server-served-file-extensions <span style="color: #51afef;">'</span><span style="color: #98be65;">(</span><span style="color: #98be65;">"pdf"</span> <span style="color: #98be65;">"mp4"</span> <span style="color: #98be65;">"ogv"</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> org-roam-server-network-poll t<span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> org-roam-server-network-arrows nil<span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> org-roam-server-network-label-truncate t<span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> org-roam-server-network-label-truncate-length <span style="color: #da8548; font-weight: bold;">60</span><span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> org-roam-server-network-label-wrap-length <span style="color: #da8548; font-weight: bold;">20</span><span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">(</span>org-roam-server-mode<span style="color: #c678dd;">)</span>
    <span style="color: #51afef;">)</span>
</pre>
</div>

<p>
<code>org-roam-server-mode</code> will enable the global mode. This will start a web server on <a href="http://127.0.0.1:8080">http://127.0.0.1:8080</a> that can be accessed for the org-roam visualization. To open the note on clicking a node, the <code>org-roam-protocol</code> needs to be set up, which is done in the next section.
</p>
</div>
</div>
<div id="outline-container-org20a0c10" class="outline-2">
<h2 id="org20a0c10"><span class="section-number-2">8.</span> Roam protocol</h2>
<div class="outline-text-2" id="text-8">
<p>
To enable org-roam&rsquo;s protocol extensions, add the following to emacs init file
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> org-roam-protocol
    <span style="color: #c678dd;">:after</span> org-roam<span style="color: #51afef;">)</span>
</pre>
</div>

<p>
I had to make a desktop application file for <code>emacsclient</code> to use <code>org-protocol</code>. It can be made on Linux platforms by creating a file in <code>~/.local/share/applications/</code> directory. An example file is shown below
</p>

<pre class="example" id="org00eadf5">
  [Desktop Entry]
  Name=Org-Protocol
  Exec=emacsclient %u
  Icon=emacs-icon
  Type=Application
  Terminal=false
  MimeType=x-scheme-handle/org-protocol
</pre>
</div>

<div id="outline-container-orgb017342" class="outline-3">
<h3 id="orgb017342"><span class="section-number-3">8.1.</span> The <code>roam-ref</code> Protocol</h3>
<div class="outline-text-3" id="text-8-1">
<p>
This protocol finds or creates a new note with a given <code>roam_key</code>. This is one of the most appealing features of <code>org-roam</code> for me. I&rsquo;m guessing that this in conjunction with Zotero will make my note-taking life much easier on the web. To use this, a bookmarklet needs to be created in the browser. For my choice, that is currently Firefox. The steps to create a bookmarklet are
</p>

<ol class="org-ol">
<li>Add a new bookmark from the bookmarks toolbar.</li>
<li>In the name field, add the required name for the bookmark.</li>
<li><p>
In the location field, add the following code
</p>

<div class="org-src-container">
<pre class="src src-javascript">     javascript:location.href =
         <span style="color: #98be65;">'org-protocol://roam-ref?template=w&amp;ref='</span>
         + encodeURIComponent(location.href)
         + <span style="color: #98be65;">'&amp;title='</span>
         + encodeURIComponent(document.title)
         + <span style="color: #98be65;">'&amp;body='</span>
         + encodeURIComponent(window.getSelection())
</pre>
</div></li>
</ol>
<p>
Here, <code>template</code> is the template key for a template in <code>org-roam-capture-ref-templates</code>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> org-roam-capture-ref-templates
        <span style="color: #51afef;">'</span><span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span><span style="color: #98be65;">"r"</span> <span style="color: #98be65;">"ref"</span> plain <span style="color: #a9a1e1;">(</span><span style="color: #51afef;">function</span> org-roam-capture--get-point<span style="color: #a9a1e1;">)</span>
           <span style="color: #98be65;">"%?"</span>
           <span style="color: #c678dd;">:file-name</span> <span style="color: #98be65;">"%&lt;%Y%m%d%H%M%S&gt;-${slug}"</span>
           <span style="color: #c678dd;">:head</span> <span style="color: #98be65;">"#+TITLE: ${title}\n#+roam_key: ${ref}"</span>
           <span style="color: #c678dd;">:unnarrowed</span> t<span style="color: #98be65;">)</span>
          <span style="color: #98be65;">(</span><span style="color: #98be65;">"w"</span> <span style="color: #98be65;">"webpage"</span> plain <span style="color: #a9a1e1;">(</span><span style="color: #51afef;">function</span> org-roam--capture-get-point<span style="color: #a9a1e1;">)</span>
           <span style="color: #98be65;">"/${body}/"</span>
           <span style="color: #c678dd;">:file-name</span> <span style="color: #98be65;">"%&lt;%Y%m%d%H%M%S&gt;-${slug}"</span>
           <span style="color: #c678dd;">:head</span> <span style="color: #98be65;">"#+TITLE: ${title}\n#+roam_key: ${ref}\n\n"</span>
           <span style="color: #c678dd;">:unnarrowed</span> t<span style="color: #98be65;">)</span>
          <span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>

</pre>
</div>

<p>
Now, I can simply click on this bookmarklet from whatever website/article I am looking at, to directly create a note in emacs using org-roam. With the <code>webpage</code> template, I write down the selected text from the browser into the top of the body of the note, in italics.
</p>
</div>
</div>
</div>

<div id="outline-container-orgc4f7d3d" class="outline-2">
<h2 id="orgc4f7d3d"><span class="section-number-2">9.</span> Daily-notes</h2>
<div class="outline-text-2" id="text-9">
<p>
Org-roam provides functions similar to org-journal. I decided to stick to org-roam for the daily notes too, to keep all the notes under one umbrella. To configure daily notes, there are 2 main variables: <code>org-roam-dailies-directory</code> and <code>org-roam-dailies-capture-templates</code>. They are the path to the daily-notes and the capture templates for daily notes respectively. A sane default config taken directly from the manual is
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> org-roam-dailies-directory <span style="color: #98be65;">"daily/"</span><span style="color: #51afef;">)</span>
  <span style="color: #51afef;">(</span><span style="color: #51afef;">setq</span> org-roam-dailies-capture-templates
        <span style="color: #51afef;">'</span><span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span><span style="color: #98be65;">"d"</span> <span style="color: #98be65;">"default"</span> entry <span style="color: #a9a1e1;">(</span><span style="color: #51afef;">function</span> org-roam--capture-get-point<span style="color: #a9a1e1;">)</span>
           <span style="color: #98be65;">"* #?"</span>
           <span style="color: #c678dd;">:file-name</span> <span style="color: #98be65;">"daily/%&lt;%Y-%m-%d&gt;"</span>
           <span style="color: #c678dd;">:head</span> <span style="color: #98be65;">"#+TITLE: %&lt;%Y-%m-%d&gt;\n\n"</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span><span style="color: #51afef;">)</span>
</pre>
</div>

<p>
The <code>org-roam-dailies-directory</code> should appear in the <code>:file-name</code> for the notes to be recognized as daily-notes.
</p>

<p>
To start writing daily-notes, call the <code>org-roam-dailies-capture-today</code> function. It creates an entry in the notes for today. <code>org-roam-dailies-find-today</code> finds the note for today, creating it if necessary. Another important function that can be used for searching is the <code>org-roam-dailies-find-date</code> which will open the note for the particular date using a calendar.
</p>

<p>
Other functions to keep in mind:
</p>
<ul class="org-ul">
<li><code>org-roam-dailies-find-directory</code></li>
<li><code>org-roam-dailies-find-previous-note</code></li>
<li><code>org-roam-dailies-find-next-note</code></li>
</ul>
</div>
</div>

<div id="outline-container-org9cee252" class="outline-2">
<h2 id="org9cee252"><span class="section-number-2">10.</span> Diagnosing and Repairing Files</h2>
<div class="outline-text-2" id="text-10">
<p>
Once in a while, it would be a good idea to check for the correctness of the links. To do this easily, org-roam provides the <code>org-roam-doctor</code> function. This function checks the links in the current org-roam buffer. To run it on all files, use <code>C-u M-x org-roam-doctor</code> but this might take some time.
</p>
</div>
</div>

<div id="outline-container-orga836a76" class="outline-2">
<h2 id="orga836a76"><span class="section-number-2">11.</span> Finding Unlinked References</h2>
<div class="outline-text-2" id="text-11">
<p>
It is difficult, and pointless to an extent, to try and remember all the notes to link to. For some such cases, org-roam has the <code>org-roam-unlinked-references</code>. It tries to find strings in the current buffer that match the title or aliases of any existing note in the org-roam database. These can then be converted to new links.
</p>

<p>
<b>PS</b>: Using this requires <a href="https://github.com/BurntSushi/ripgrep">ripgrep</a> with PCRE support installed on the system.
</p>
</div>
</div>

<div id="outline-container-org0949926" class="outline-2">
<h2 id="org0949926"><span class="section-number-2">12.</span> NEXT Deft, org-noter, org-roam-bibtex</h2>
<div class="outline-text-2" id="text-12">
</div>
<div id="outline-container-orgc33b599" class="outline-3">
<h3 id="orgc33b599"><span class="section-number-3">12.1.</span> Deft</h3>
<div class="outline-text-3" id="text-12-1">
<p>
<code>deft</code> is an interface for enhanced searching and filtering of notes. This provides a better interface to quickly go to a required note as it searches both, title and body of the note. It can be installed directly from MELPA and is fairly easy to get started with.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> deft
    <span style="color: #c678dd;">:straight</span> t
    <span style="color: #c678dd;">:bind</span>
    <span style="color: #c678dd;">(</span><span style="color: #98be65;">"&lt;f8&gt;"</span> . deft<span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">:config</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> deft-directory <span style="color: #98be65;">"~/org-roam"</span><span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> deft-extensions <span style="color: #51afef;">'</span><span style="color: #98be65;">(</span><span style="color: #98be65;">"org"</span> <span style="color: #98be65;">"md"</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
    <span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org7e093fb" class="outline-2">
<h2 id="org7e093fb"><span class="section-number-2">13.</span> Keybindings for <code>org-roam</code> functions</h2>
<div class="outline-text-2" id="text-13">
<p>
I decided to create a keymap for org-roam, and I had heard about the <code>general</code> package on David Wilson&rsquo;s Emacs-from-scratch series so I decided to give that a shot.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> general
    <span style="color: #c678dd;">:straight</span> t
    <span style="color: #c678dd;">:config</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">general-create-definer</span> cm/leader-keys
      <span style="color: #c678dd;">:prefix</span> <span style="color: #98be65;">"M-o"</span><span style="color: #c678dd;">)</span>

    <span style="color: #c678dd;">(</span>cm/leader-keys
     <span style="color: #98be65;">"f"</span> <span style="color: #51afef;">'</span><span style="color: #ECBE7B;">org-roam-find-file</span>
     <span style="color: #98be65;">"c"</span> <span style="color: #51afef;">'</span><span style="color: #ECBE7B;">org-roam-capture</span>
     <span style="color: #98be65;">"i"</span> <span style="color: #51afef;">'</span><span style="color: #ECBE7B;">org-roam-insert</span>
     <span style="color: #98be65;">"o"</span> <span style="color: #51afef;">'</span><span style="color: #ECBE7B;">org-roam</span>
     <span style="color: #98be65;">"M-t"</span> <span style="color: #51afef;">'</span><span style="color: #ECBE7B;">org-roam-dailies-find-today</span>
     <span style="color: #98be65;">"t"</span> <span style="color: #51afef;">'</span><span style="color: #ECBE7B;">org-roam-dailies-capture-today</span>
     <span style="color: #98be65;">"u"</span> <span style="color: #51afef;">'</span><span style="color: #ECBE7B;">org-roam-unlinked-references</span><span style="color: #c678dd;">)</span>
    <span style="color: #51afef;">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org055cd9e" class="outline-2">
<h2 id="org055cd9e"><span class="section-number-2">14.</span> <code>use-package</code> code block</h2>
<div class="outline-text-2" id="text-14">
<div class="org-src-container">
<pre class="src src-emacs-lisp">  <span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> org-roam
    <span style="color: #c678dd;">:straight</span> t
    <span style="color: #c678dd;">:config</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> <span style="color: #dcaeea;">org-roam-directory</span> <span style="color: #98be65;">"~/org-roam"</span><span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> <span style="color: #dcaeea;">org-roam-capture-templates</span>
          <span style="color: #51afef;">'</span><span style="color: #98be65;">(</span><span style="color: #a9a1e1;">(</span><span style="color: #98be65;">"d"</span> <span style="color: #98be65;">"default"</span> plain <span style="color: #51afef;">(</span><span style="color: #51afef;">function</span> org-roam--capture-get-point<span style="color: #51afef;">)</span>
             <span style="color: #98be65;">"%?"</span>
             <span style="color: #c678dd;">:file-name</span> <span style="color: #98be65;">"%&lt;%Y%m%d%H%M%S&gt;-${slug}"</span>
             <span style="color: #c678dd;">:head</span> <span style="color: #98be65;">"#+TITLE: ${title}\n"</span>
             <span style="color: #c678dd;">:unnarrowed</span> t<span style="color: #a9a1e1;">)</span>
            <span style="color: #a9a1e1;">(</span><span style="color: #98be65;">"p"</span> <span style="color: #98be65;">"paper"</span> entry <span style="color: #51afef;">(</span><span style="color: #51afef;">function</span> org-roam--capture-get-point<span style="color: #51afef;">)</span>
             <span style="color: #98be65;">"%?"</span>
             <span style="color: #c678dd;">:file-name</span> <span style="color: #98be65;">"%&lt;%Y%m%d%H%M%S&gt;-${slug}"</span>
             <span style="color: #c678dd;">:head</span> <span style="color: #98be65;">"#+TITLE: ${title}\n#+AUTHOR: ${authors}\n"</span>
             <span style="color: #c678dd;">:unnarrowed</span> t<span style="color: #a9a1e1;">)</span>
            <span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
    <span style="color: #51afef;">)</span>

  <span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> org-roam-protocol
    <span style="color: #c678dd;">:after</span> org-roam
    <span style="color: #c678dd;">:config</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> org-roam-capture-ref-templates
          <span style="color: #51afef;">'</span><span style="color: #98be65;">(</span><span style="color: #a9a1e1;">(</span><span style="color: #98be65;">"r"</span> <span style="color: #98be65;">"ref"</span> plain <span style="color: #51afef;">(</span><span style="color: #51afef;">function</span> org-roam-capture--get-point<span style="color: #51afef;">)</span>
             <span style="color: #98be65;">"%?"</span>
             <span style="color: #c678dd;">:file-name</span> <span style="color: #98be65;">"%&lt;%Y%m%d%H%M%S&gt;-${slug}"</span>
             <span style="color: #c678dd;">:head</span> <span style="color: #98be65;">"#+TITLE: ${title}\n#+roam_key: ${ref}"</span>
             <span style="color: #c678dd;">:unnarrowed</span> t<span style="color: #a9a1e1;">)</span>
            <span style="color: #a9a1e1;">(</span><span style="color: #98be65;">"w"</span> <span style="color: #98be65;">"webpage"</span> plain <span style="color: #51afef;">(</span><span style="color: #51afef;">function</span> org-roam--capture-get-point<span style="color: #51afef;">)</span>
             <span style="color: #98be65;">"/${body}/"</span>
             <span style="color: #c678dd;">:file-name</span> <span style="color: #98be65;">"%&lt;%Y%m%d%H%M%S&gt;-${slug}"</span>
             <span style="color: #c678dd;">:head</span> <span style="color: #98be65;">"#+TITLE: ${title}\n#+roam_key: ${ref}\n\n"</span>
             <span style="color: #c678dd;">:unnarrowed</span> t<span style="color: #a9a1e1;">)</span>
            <span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
    <span style="color: #51afef;">)</span>

  <span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> org-roam-server
    <span style="color: #c678dd;">:straight</span> t
    <span style="color: #c678dd;">:config</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> org-roam-server-host <span style="color: #98be65;">"127.0.0.1"</span><span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> org-roam-server-port <span style="color: #da8548; font-weight: bold;">8080</span><span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> org-roam-server-authenticate nil<span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> org-roam-server-export-inline-images t<span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> org-roam-server-serve-files nil<span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> org-roam-server-served-file-extensions <span style="color: #51afef;">'</span><span style="color: #98be65;">(</span><span style="color: #98be65;">"pdf"</span> <span style="color: #98be65;">"mp4"</span> <span style="color: #98be65;">"ogv"</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> org-roam-server-network-poll t<span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> org-roam-server-network-arrows nil<span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> org-roam-server-network-label-truncate t<span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> org-roam-server-network-label-truncate-length <span style="color: #da8548; font-weight: bold;">60</span><span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> org-roam-server-network-label-wrap-length <span style="color: #da8548; font-weight: bold;">20</span><span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">(</span>org-roam-server-mode<span style="color: #c678dd;">)</span>
    <span style="color: #51afef;">)</span>

  <span style="color: #51afef;">(</span><span style="color: #51afef;">use-package</span> deft
    <span style="color: #c678dd;">:straight</span> t
    <span style="color: #c678dd;">:bind</span>
    <span style="color: #c678dd;">(</span><span style="color: #98be65;">"&lt;f8&gt;"</span> . deft<span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">:config</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> deft-directory <span style="color: #98be65;">"~/org-roam"</span><span style="color: #c678dd;">)</span>
    <span style="color: #c678dd;">(</span><span style="color: #51afef;">setq</span> deft-extensions <span style="color: #51afef;">'</span><span style="color: #98be65;">(</span><span style="color: #98be65;">"org"</span> <span style="color: #98be65;">"md"</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
    <span style="color: #51afef;">)</span>

</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<hr/>
<footer>
<div class="generated">
Created with <a href="https://www.gnu.org/software/emacs/">Emacs</a> 28.2 (<a href="https://orgmode.org">Org</a> mode 9.6)
</div>
</footer>
</div>
</body>
</html>